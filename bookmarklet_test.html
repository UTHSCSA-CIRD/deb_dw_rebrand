<html>
<head>
<title>Bookmarklet Test</title>
</head>
<body>

<p>
Step 1. Drag the following bookmarklet to the bookmark bar on your browser:

<a href="javascript:(function()%7Bfunction%2520testRemoteBranding(s%252Ce)%257Bvar%2520t%253Ddocument.head%257C%257Cdocument.getElementsByTagName(%2522head%2522)%255B0%255D%252Ci%253Dnew%2520XMLHttpRequest%253Bi.open(%2522GET%2522%252Ce%252Bs)%252Ci.onreadystatechange%253Dfunction()%257Bif(4%253D%253D%253Di.readyState)if(200%253D%253D%253Di.status)%257Bvar%2520s%253Ddocument.createElement(%2522style%2522)%253Bs.type%253D%2522text%252Fcss%2522%252Cs.styleSheet%253Fs.styleSheet.cssText%253Di.responseText%253As.appendChild(document.createTextNode(i.responseText))%252Ct.appendChild(s)%257Delse%2520console.log(%2522Error%2522%252Ci.statusText)%257D%252Ci.send()%257DcssFiles%253D%255B%2522js-i2b2%252Fui.styles%252Fui.styles.css%2522%252C%2522js-i2b2%252Fcells%252FCRC%252Fassets%252Fquery_report.css%2522%252C%2522assets%252Fi2b2.css%2522%252C%2522assets%252Fi2b2-NEW.css%2522%252C%2522js-i2b2%252Fcells%252FPM%252Fassets%252FmodProjects.css%2522%252C%2522js-i2b2%252Fcells%252FPLUGINMGR%252Fassets%252FvwViewer.css%2522%252C%2522assets%252Fmsg_sniffer.css%2522%252C%2522assets%252Fmsg_snifferIE6.css%2522%255D%252CimpCss%253D%257B%2522vwViewer.css%2522%253A%2522js-i2b2%252Fcells%252FPLUGINMGR%252Fassets%252F%2522%252C%2522vwList.css%2522%253A%2522js-i2b2%252Fcells%252FPLUGINMGR%252Fassets%252F%2522%252C%2522vwHistory.css%2522%253A%2522js-i2b2%252Fcells%252FCRC%252Fassets%252F%2522%252C%2522vwQryTool.css%2522%253A%2522js-i2b2%252Fcells%252FCRC%252Fassets%252F%2522%252C%2522vwStatus.css%2522%253A%2522js-i2b2%252Fcells%252FCRC%252Fassets%252F%2522%252C%2522modLabValues.css%2522%253A%2522js-i2b2%252Fcells%252FCRC%252Fassets%252F%2522%252C%2522vwWork.css%2522%253A%2522js-i2b2%252Fcells%252FWORK%252Fassets%252F%2522%252C%2522ontMain.css%2522%253A%2522js-i2b2%252Fcells%252FONT%252Fassets%252F%2522%257D%252Cremurl%253D%2522https%253A%252F%252Fraw.githubusercontent.com%252FUTHSCSA-CIRD%252Fdeb_dw_rebrand%252Fv0.0.1RC_01%252Fwebclient.test%252F%2522%253Bvar%2520button%253Ddocument.createElement(%2522Button%2522)%253Bbutton.innerHTML%253D%2522Rebrand!%2522%252Cbutton.style%253D%2522top%253A0%253Bright%253A0%253Bposition%253Afixed%253B%2522%252Cbutton.onclick%253Dfunction()%257B%2524j.each(cssFiles%252Cfunction(s)%257BtestRemoteBranding(cssFiles%255Bs%255D%252Cremurl)%257D)%252C%2524j.each(impCss%252Cfunction(s%252Ce)%257BtestRemoteBranding(e%252Bs%252Cremurl)%257D)%252C%2524j(%2522%2523topBarTitle%2522).prop(%2522src%2522%252Cremurl%252B%2522assets%252Fimages%252Ftitle.gif%2522)%252C%2524j(%2522.formDiv%2522).children(%2522div.label%2522)%255B2%255D.innerText%253D%2522Server%253A%2522%252C%2524j(%2522%2523i2b2_login_modal_dialog_h%2522).html(function(s%252Ce)%257Breturn%2520e.gsub(%2522i2b2%2520%2522%252C%2522%2522)%257D)%257D%252Cdocument.body.appendChild(button)%253B%7D)()">Rebrand i2b2</a>
</p>

<p>
Step 2. Go to any i2b2 site. For example the <a href="https://www.i2b2.org/webclient/" target=_NEW>Harvard demo</a>.
</p>

<p>
Step 3. Click on the bookmarklet you created in Step 1. A new button will appear on the upper right saying "Rebrand!". Click that button to preview how the re-branded site would look. If you log in, you might need to click that button again to refresh some of the dynamic elements.
</p>

</body>
</html>
